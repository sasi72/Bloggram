<%- include("partials/header.ejs") %>
<section id="create">
  <div class="form-signin container shadow rounded-4 py-1 border border-primary border-4">
    <!-- Added 'needs-validation' class and 'novalidate' to use Bootstrap styles -->
    <form action="/blogs" method="POST" class="needs-validation" novalidate>
      
      <div class="form-floating my-3">
        <input type="text" class="form-control" id="floatingInput" name="blogger" placeholder="Your Name" required>
        <label for="floatingInput">Your Name</label>
        <div class="invalid-feedback">Please tell us who is writing!</div>
      </div>

      <div class="form-floating my-3">
        <input type="text" class="form-control" id="floatingTitle" name="title" placeholder="Title of the Blog" required>
        <label for="floatingTitle">Title</label>
        <div class="invalid-feedback">Your blog needs a catchy title.</div>
      </div>

      <div class="form-floating my-3">
        <!-- Added 'required' attribute to the textarea -->
        <textarea class="form-control" id="floatingComment" name="blog" placeholder="blog" style="height: 350px;" required></textarea>
        <label for="floatingComment">Write your Blog here</label>
        <div class="invalid-feedback">You cannot post an empty blog. Share your thoughts!</div>
      </div>

      <button class="btn custom-btn w-100 mb-3 py-3 fw-bold" type="submit">Post the Blog</button>
    </form>
  </div>
</section>

<!-- Bootstrap Validation Script -->
<script>
  (() => {
    'use strict'
    const forms = document.querySelectorAll('.needs-validation')
    Array.from(forms).forEach(form => {
      form.addEventListener('submit', event => {
        if (!form.checkValidity()) {
          event.preventDefault()
          event.stopPropagation()
        }
        form.classList.add('was-validated')
      }, false)
    })
  })()
</script>

<%- include("partials/footer.ejs") %>
